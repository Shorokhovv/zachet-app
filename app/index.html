<!DOCTYPE html>
<html>
<head>
    <title>Todo –¢—Ä–µ–∫–µ—Ä</title>
    <style>
        body { font-family: Arial; max-width: 600px; margin: 50px auto; padding: 20px; }
        input, button { padding: 10px; margin: 5px; font-size: 16px; }
        .result { background: #f0f0f0; padding: 10px; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>üìã –ú–∏–Ω–∏-—Ç—Ä–µ–∫–µ—Ä –∑–∞–¥–∞—á</h1>
    
    <div>
        <h3>–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</h3>
        <input type="text" id="taskTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏">
        <button onclick="createTask()">–°–æ–∑–¥–∞—Ç—å</button>
    </div>
    
    <div>
        <h3>–û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π</h3>
        <input type="number" id="taskId" placeholder="ID –∑–∞–¥–∞—á–∏">
        <button onclick="markDone()">–ì–æ—Ç–æ–≤–æ</button>
    </div>
    
    <div>
        <button onclick="showPending()">–ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</button>
        <button onclick="showStats()">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
    </div>
    
    <div class="result" id="result"></div>

    <script>
        const baseUrl = window.location.origin;
        
        async function createTask() {
            const title = document.getElementById('taskTitle').value;
            if (!title) return alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ');
            
            const response = await fetch(`${baseUrl}/create/${title}`);
            const text = await response.text();
            document.getElementById('result').innerText = text;
        }
        
        async function markDone() {
            const id = document.getElementById('taskId').value;
            if (!id) return alert('–í–≤–µ–¥–∏—Ç–µ ID');
            
            const response = await fetch(`${baseUrl}/done/${id}`);
            const text = await response.text();
            document.getElementById('result').innerText = text;
        }
        
        async function showPending() {
            const response = await fetch(`${baseUrl}/pending`);
            const text = await response.text();
            document.getElementById('result').innerText = text;
        }
        
        async function showStats() {
            const response = await fetch(`${baseUrl}/stats`);
            const text = await response.text();
            document.getElementById('result').innerText = text;
        }
    </script>
</body>
</html>